{"version":3,"file":"static/js/380.c9742ccc.chunk.js","mappings":"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","sources":["pages/MewShop/Home/ShortHome/index.tsx","utils/utils.ts"],"sourcesContent":["// THIRD IMPORT\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport OwlCarousel from 'react-owl-carousel';\r\n\r\n// PROJECT IMPORT\r\nimport { useDispatch } from 'app/store';\r\nimport { formatPrice, getSale } from 'utils/utils';\r\nimport { CategoryType } from 'types/category';\r\n\r\nconst END_POINT = process.env.REACT_APP_SERVER;\r\n\r\nconst Index = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const [products, setProducts] = useState<any>([]);\r\n  const [category, setCategory] = useState<CategoryType>({});\r\n\r\n  useEffect(() => {\r\n    getList();\r\n    getDetailCategory();\r\n  }, []);\r\n\r\n  const getDetailCategory = () => {\r\n    dispatch({\r\n      type: 'category/getOne',\r\n      payload: { id: 13 },\r\n      callback: (res) => {\r\n        if (res?.success) {\r\n          const {\r\n            results: { list }\r\n          } = res;\r\n          setCategory(list);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const getList = () => {\r\n    let params = {\r\n      filter: JSON.stringify({ status: 1, websiteId: 1, categoryId: 13 }),\r\n      range: JSON.stringify([0, 10]),\r\n      sort: JSON.stringify(['createdAt', 'DESC']),\r\n      attributes: 'id,name,images,price,negotiablePrice,isSale,createdAt,url'\r\n    };\r\n\r\n    dispatch({\r\n      type: 'product/fetch',\r\n      payload: params,\r\n      callback: (res) => {\r\n        if (res?.success) {\r\n          const {\r\n            results: { list }\r\n          } = res;\r\n          setProducts(list);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const shortHome = useMemo(\r\n    () => (\r\n      <section className=\"products_home\">\r\n        <div className=\"products_list\">\r\n          <div className=\"header_box\">\r\n            <div className=\"title_box\">\r\n              <p className=\"main_title\">{category?.text}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"list\">\r\n            {products?.length > 0 && (\r\n              <OwlCarousel\r\n                className=\"owl-theme\"\r\n                dots={false}\r\n                items={4}\r\n                margin={10}\r\n                autoplay\r\n                loop\r\n                touchDrag={true}\r\n                responsive={{\r\n                  0: {\r\n                    items: 2,\r\n                    stagePadding: 0\r\n                  },\r\n                  600: {\r\n                    items: 2,\r\n                    stagePadding: 0\r\n                  },\r\n                  1024: {\r\n                    items: 2,\r\n                    stagePadding: 0\r\n                  },\r\n                  1300: {\r\n                    items: 3,\r\n                    stagePadding: 0\r\n                  }\r\n                }}\r\n                key={`carousel_shirt`}\r\n              >\r\n                {products?.map((item) => (\r\n                  <div className=\"product\" style={{ width: '100%' }} key={item?.id}>\r\n                    <div className=\"image_box\" onClick={() => navigate(`${category?.url}/${item?.url}`)}>\r\n                      <div className=\"ct\">Chi tiết</div>\r\n                      <img src={`${END_POINT}${item?.images?.split(',')[0]}`} alt={item?.name} />\r\n                      <img src={`${END_POINT}${item?.images?.split(',')[1]}`} alt={item?.name} />\r\n                    </div>\r\n                    {item?.isSale && (\r\n                      <div className=\"sale_box\">\r\n                        <p>-{getSale(item?.price, item?.negotiablePrice)}%</p>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"content\">\r\n                      <Link to={`${category?.url}/${item?.url}`}>{item?.name} </Link>\r\n                      <p className=\"price\">\r\n                        {item?.isSale ? formatPrice(item?.negotiablePrice) : formatPrice(item?.price)}{' '}\r\n                        {item?.isSale && <del>{formatPrice(item?.price)}</del>}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </OwlCarousel>\r\n            )}\r\n          </div>\r\n          <Link to={`/products${category?.url}`}>Xem thêm</Link>\r\n        </div>\r\n\r\n        <div\r\n          className=\"bg_home\"\r\n          style={{\r\n            backgroundImage: `url(${`${END_POINT}${category?.images?.split(',')[0]}`})`\r\n          }}\r\n        >\r\n          <div className=\"introduce\">\r\n            <p className=\"title_type_1\">SẢN PHẨM HOT</p>\r\n            <p className=\"title_type_2\">{category?.text}</p>\r\n            <p className=\"short_description\">{category?.description}</p>\r\n\r\n            <Link to={`/products${category?.url}`} className=\"btn btn_more\">\r\n              Xem thêm\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    ),\r\n    [category, products]\r\n  );\r\n\r\n  return shortHome;\r\n};\r\n\r\nexport default Index;\r\n","export const formatPrice = (price: number) => {\r\n  return price?.toLocaleString(\"vi\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n};\r\n\r\nexport const getSale = (price: number, priceSale: number) => {\r\n  return Math.floor(((price - priceSale) / price) * 100);\r\n};\r\n\r\nexport const addToCart = (product: any) => {\r\n  const products = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n  const checkExits = products?.find(\r\n    (item) =>\r\n      item?.id === product?.id &&\r\n      item?.color === product?.color &&\r\n      item?.size === product?.size\r\n  );\r\n\r\n  let newCart: any = [];\r\n  if (checkExits) {\r\n    newCart = products?.map((item) => {\r\n      if (item?.id === checkExits?.id)\r\n        return { ...item, quantity: item?.quantity + product?.quantity };\r\n      return item;\r\n    });\r\n  } else {\r\n    newCart = [{ ...product }].concat(products);\r\n  }\r\n  return newCart;\r\n};\r\n"],"names":["END_POINT","process","navigate","useNavigate","dispatch","useDispatch","useState","products","setProducts","category","setCategory","useEffect","getList","getDetailCategory","type","payload","id","callback","res","success","list","results","params","filter","JSON","stringify","status","websiteId","categoryId","range","sort","attributes","useMemo","className","text","length","dots","items","margin","autoplay","loop","touchDrag","responsive","stagePadding","map","item","style","width","onClick","url","src","images","split","alt","name","isSale","getSale","price","negotiablePrice","to","formatPrice","backgroundImage","description","toLocaleString","currency","priceSale","Math","floor","addToCart","product","parse","localStorage","getItem","checkExits","find","color","size","quantity","concat"],"sourceRoot":""}